(this["webpackJsonptax-calculator"]=this["webpackJsonptax-calculator"]||[]).push([[0],{131:function(e,t,a){e.exports={content:"Content_content__3HrAI"}},132:function(e,t,a){e.exports={footer:"Footer_footer__2jIF6"}},133:function(e,t,a){e.exports={layout:"Layout_layout__E-uks",content:"Layout_content__3i-cj"}},134:function(e,t,a){e.exports={pageHeader:"PageHeader_pageHeader__3cOwV"}},146:function(e,t,a){},221:function(e,t,a){"use strict";a.r(t);var n,l,i=a(0),r=a(26),o=a.n(r),c=(a(146),a(147),a(224)),u=a(231),s=a(49),d=a(238),m=a(6),b=c.a.Header,h=u.a.Title,j=function(){return Object(m.jsxs)(b,{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:24},children:[Object(m.jsx)(h,{level:4,style:{color:"#fff",marginBottom:0},children:"Tax Calculator"}),Object(m.jsx)(s.a,{icon:Object(m.jsx)(d.a,{}),shape:"circle",href:"https://github.com/Itsthatotherguy/tax-calculator"})]})},y=a(225),x=a(226),f=a(131),O=a.n(f),v=c.a.Content,p=function(e){var t=e.children;return Object(m.jsx)(v,{children:Object(m.jsx)(y.a,{justify:"center",children:Object(m.jsx)(x.a,{sm:24,md:12,className:O.a.content,children:t})})})},T=a(132),g=a.n(T),A=c.a.Footer,F=function(){return Object(m.jsxs)(A,{className:g.a.footer,children:["Developed by"," ",Object(m.jsx)("a",{href:"https://github.com/itsthatotherguy",target:"_blank",rel:"noreferrer",children:"Christiaan van der Merwe"})]})},S=a(133),L=a.n(S),w=function(e){var t=e.children;return Object(m.jsxs)(c.a,{className:L.a.layout,children:[Object(m.jsx)(j,{}),Object(m.jsx)(p,{children:t}),Object(m.jsx)(F,{children:"Footer"})]})},P=a(77),k=a(227),C=a(44),I=a(230),D=a(139),_=a(233),M=a(228),B=a(235),H=a(232),N=a(237),V=a(229),U=a(134),q=a.n(U),E=function(e){var t=e.title;return Object(m.jsx)(V.a,{title:t,className:q.a.pageHeader})},R=a(135),Y=a(136),J=a(39),z=a.n(J),W=332,G=664,K=224,Q=[{lowerLimit:1,upperLimit:216200,rate:.18,additionalAmount:0},{lowerLimit:216201,upperLimit:337800,rate:.26,additionalAmount:38916},{lowerLimit:337801,upperLimit:467500,rate:.31,additionalAmount:70532},{lowerLimit:467501,upperLimit:613600,rate:.36,additionalAmount:110739},{lowerLimit:613601,upperLimit:782200,rate:.39,additionalAmount:163335},{lowerLimit:782200,upperLimit:1656600,rate:.41,additionalAmount:229089},{lowerLimit:1656601,upperLimit:1/0,rate:.45,additionalAmount:587593}],X=a(69);!function(e){e.Primary="Primary",e.Secondary="Secondary",e.Tertiary="Tertiary"}(l||(l={}));var Z=(n={},Object(X.a)(n,l.Primary,{type:l.Primary,amount:15714}),Object(X.a)(n,l.Secondary,{type:l.Secondary,amount:15714}),Object(X.a)(n,l.Tertiary,{type:l.Tertiary,amount:15714}),n),$=87300,ee=135150,te=function(){function e(){Object(R.a)(this,e)}return Object(Y.a)(e,null,[{key:"calculateTax",value:function(e){var t=e.monthlySalary,a=e.medicalAidDependents,n=e.dateOfBirth,l=this.calculateAge(n),i=12*t,r=this.isAboveTaxThreshold(i,l);if(!r)return{isAboveTaxThreshold:r};var o=this.calculateInitialTax(i),c=this.calculateTaxRebates(l),u=this.calculateMedicalAidTaxCredit(a),s=o-c.total-u,d=s/12,m=this.calculateUif(t),b=t-d-m;return s<0&&(s=0,d=0,b=t-m),{isAboveTaxThreshold:r,annualSalary:i,monthlySalary:t,initialTax:o,taxRebates:c,medicalTaxCredit:u,totalTaxLiability:s,monthlyPaye:d,monthlyUif:m,monthlyNettSalary:b}}},{key:"calculateUif",value:function(e){return e>=14872?148.72:.01*e}},{key:"calculateAge",value:function(e){return z()().diff(e,"years")}},{key:"isAboveTaxThreshold",value:function(e,t){return t<=65?e>$:t<=75?e>ee:e>$}},{key:"calculateTaxRebates",value:function(e){var t=[],a=0,n=Z[l.Primary];return a+=n.amount,t.push(n),e>65&&(a+=(n=Z[l.Secondary]).amount,t.push(n)),e>75&&(a+=(n=Z[l.Tertiary]).amount,t.push(n)),{rebates:t,total:a}}},{key:"calculateMedicalAidTaxCredit",value:function(e){if(e<1)return 0;var t=W;e<3?t=G:t+=K*(e-2);return t}},{key:"calculateInitialTax",value:function(e){var t=this.findTaxBracket(e);return(e-(t.lowerLimit-1))*t.rate+t.additionalAmount}},{key:"findTaxBracket",value:function(e){var t=Q.find((function(t){return e>=t.lowerLimit&&e<=t.upperLimit}));if(!t)throw new Error("Tax bracket not found.");return t}}]),e}(),ae=a(70),ne=a.n(ae),le=u.a.Text,ie={dateOfBirth:z()(new Date),name:"",monthlySalary:"0.00",hasMedicalAid:!1,medicalAidDependents:0},re=function(e){var t=e.onTaxCalculated,a=Object(i.useState)(ie.hasMedicalAid),n=Object(P.a)(a,2),l=n[0],r=n[1],o=I.a.useForm(),c=Object(P.a)(o,1)[0],u=function(){var e=c.getFieldsValue();c.setFieldsValue(Object(C.a)(Object(C.a)({},e),{},{medicalAidDependents:1}))},d=function(){var e=c.getFieldsValue();c.setFieldsValue(Object(C.a)(Object(C.a)({},e),{},{medicalAidDependents:0}))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E,{title:"Your details"}),Object(m.jsx)(le,{style:{margin:0},children:"Please complete this form and click the button below to calculate your tax."}),Object(m.jsx)(k.a,{}),Object(m.jsxs)(I.a,{layout:"vertical",form:c,initialValues:ie,onFinish:function(e){var a=e.dateOfBirth,n=e.hasMedicalAid,l=e.medicalAidDependents,i=e.monthlySalary,r=e.name,o={dateOfBirth:a,monthlySalary:ne()(i).value(),medicalAidDependents:n?l:0},c=te.calculateTax(o);t(Object(C.a)(Object(C.a)({},c),{},{name:r}))},onFinishFailed:function(e){D.b.error("The form contains invalid input. Please correct these and try again.")},children:[Object(m.jsx)(I.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter your name."}],children:Object(m.jsx)(_.a,{})}),Object(m.jsx)(I.a.Item,{label:"Date of Birth",name:"dateOfBirth",rules:[{required:!0,message:"Please enter your date of birth."}],children:Object(m.jsx)(M.a,{})}),Object(m.jsx)(I.a.Item,{label:"Monthly Salary",name:"monthlySalary",rules:[{required:!0},function(){return{validator:function(e,t){var a=ne()(t).value();return a&&a>0?Promise.resolve():Promise.reject(new Error("The amount cannot be less or equal to 0.00"))}}}],extra:"This is your salary before tax and UIF is deducted.",children:Object(m.jsx)(_.a,{onBlur:function(){var e=c.getFieldsValue(),t=ne()(e.monthlySalary).format("0,0.00");c.setFieldsValue(Object(C.a)(Object(C.a)({},e),{},{monthlySalary:t}))}})}),Object(m.jsx)(I.a.Item,{name:"hasMedicalAid",valuePropName:"checked",children:Object(m.jsx)(B.a,{onChange:function(){l?d():u(),r(!l)},children:"Do you have medical aid?"})}),l&&Object(m.jsx)(I.a.Item,{label:"Medical Aid Dependents",name:"medicalAidDependents",rules:[{required:!0,message:"Please enter number of dependents on your medical aid."}],extra:"Please enter the amount of dependents that you have on your medical aid, including yourself.",children:Object(m.jsx)(H.a,{min:1,step:1,precision:0})}),Object(m.jsx)(I.a.Item,{children:Object(m.jsxs)(N.b,{children:[Object(m.jsx)(s.a,{type:"primary",htmlType:"submit",children:"Calculate"}),Object(m.jsx)(s.a,{htmlType:"button",onClick:function(){c.resetFields(),r(!1),t(null)},children:"Reset"})]})})]})]})},oe=a(234),ce=a(236),ue=function(e){var t=e.title,a=e.lineData.map((function(e){return Object(m.jsx)(ce.b.Item,{label:e.label,contentStyle:{textAlign:"end",fontWeight:e.bold?"bold":"normal"},children:ne()(e.amount).format("0,0.00")})}));return Object(m.jsx)(ce.b,{title:t,bordered:!0,column:1,children:a})},se=function(e){var t,a=e.taxSummary,n=[{label:"Annual salary",amount:null===a||void 0===a?void 0:a.annualSalary},{label:"Tax before deductions",amount:null===a||void 0===a?void 0:a.initialTax},{label:"Tax rebate",amount:null===a||void 0===a||null===(t=a.taxRebates)||void 0===t?void 0:t.total},{label:"Medical tax credit",amount:null===a||void 0===a?void 0:a.medicalTaxCredit},{label:"Total tax payable",amount:null===a||void 0===a?void 0:a.totalTaxLiability,bold:!0}],l=[{label:"Monthly salary",amount:null===a||void 0===a?void 0:a.monthlySalary},{label:"Monthly PAYE",amount:null===a||void 0===a?void 0:a.monthlyPaye},{label:"Monthly UIF",amount:null===a||void 0===a?void 0:a.monthlyUif},{label:"Monthly nett salary",amount:null===a||void 0===a?void 0:a.monthlyNettSalary,bold:!0}];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(E,{title:"Your Tax Summary"}),(null===a||void 0===a?void 0:a.isAboveTaxThreshold)?Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)(N.b,{direction:"vertical",size:"large",style:{width:"100%"},children:[Object(m.jsx)(ue,{title:"Here's what you'll pay",lineData:n}),Object(m.jsx)(ue,{title:"Here's what you'll receive",lineData:l})]})}):Object(m.jsx)(oe.a,{subTitle:"You are under the tax threshold for your age and thus you aren't liable for any tax."})]})},de=function(){var e=Object(i.useState)(null),t=Object(P.a)(e,2),a=t[0],n=t[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(re,{onTaxCalculated:n}),a&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(k.a,{}),Object(m.jsx)(se,{taxSummary:a})]})]})};var me=function(){return Object(m.jsx)(w,{children:Object(m.jsx)(de,{})})},be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,239)).then((function(t){var a=t.getCLS,n=t.getFID,l=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),l(e),i(e),r(e)}))};o.a.render(Object(m.jsx)(me,{}),document.getElementById("root")),be()}},[[221,1,2]]]);
//# sourceMappingURL=main.be4860c2.chunk.js.map